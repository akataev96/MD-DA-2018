---
title: "HomeWork1"
author: "Andrei Kataev"
date: '20 декабря 2018 г '
output: html_document
---

##Домашнее задание № 1
#Работа с данными
Загрузите данные в датафрейм, который назовите ``data.df``
```{r}
data.df<-read.table(file="rnf6080.dat")
```

Сколько строк и столбцов в ``data.df``? Если получилось не 5070 наблюдений 27 переменных, то проверяйте аргументы.
```{r}
nrow(data.df)
ncol(data.df)
```

Получите имена колонок из ``data.df``
```{r}
colnames(data.df)
```

Найдите значение из 5 строки седьмого столбца.
```{r}
data.df[5,7]
```

Напечатайте целиком 2 строку из ``data.df``
```{r}
data.df[2,]
```

Объясните, что делает следующая строка кода ``names(data.df) <- c("year", "month", "day", seq(0,23))``. Воспользуйтесь функциями ``head`` и ``tail``, чтобы просмотреть таблицу. Что представляют собой последние 24 колонки?
Данная строка присваивает столбцам датафрейма имена year, month, day, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23.
```{r}
names(data.df) <- c("year", "month", "day", seq(0,23))
```
Последние 24 колонки представляют собой количество осадков за определенный час, номер которого равен названию столбца.
```{r}
head(data.df)
tail(data.df)
```

Добавьте новую колонку с названием ``daily``, в которую запишите сумму крайних правых 24 колонок. Постройте гистограмму по этой колонке. Какие выводы можно сделать?
```{r}
data.df<-cbind(data.df, daily=c(rowSums(data.df[4:27])))
hist(data.df[,"daily"], prob = TRUE, main = "Гистограмма осадков в Канаде",xlab="Количество осадков");
```
Гистограмма не предоставляет адекватных сведений, т.к. в датафрейме встречаются отрицательные значения.

Создайте новый датафрейм ``fixed.df`` в котром исправьте замеченную ошибку. Постройте новую гистограмму, поясните почему она более корректна.
```{r}
fixed.df<-subset(data.df,data.df[,"daily"]>=0);
hist(fixed.df[,"daily"], prob = TRUE, main = "Гистограмма осадков в Канаде",xlab="Количество осадков");
```
Диаграмма построена только из неотрицательных значений, поэтому она более адекватна.

#Синтаксис и типизирование
Для каждой строки кода поясните полученный результат, либо объясните почему она ошибочна.
Создание массива
```{r}
v <- c("4", "8", "15", "16", "23", "42")
```
Поиск строки, символы который находятся ближе всего к концу алфавита.
```{r}
max(v) 
```
Сортировка элементов массива в алфавитном порядке.
```{r}
sort(v)
```
Строка ошибочна, т.к. строки нельзя складывать.
sum(v)

Для следующих наборов команд поясните полученный результат, либо объясните почему они ошибочна.
Создание массива.
```{r}
v2 <- c("5",7,12)
```
Команда ошибочна, т.к. все элементы массива приводятся к типу ``character``, элементы такого типа нельзя складывать.
v2[2] + v2[3]

Создание датафрейма.
```{r}
df3 <- data.frame(z1="5",z2=7,z3=12)
```
Сложение 2ого и 3ого элементов 1ой строки датафрейма. Столбцы в датафрейме могут иметь разные типы, поэтому сложение числовых элементов датафрейма работает.
```{r}
df3[1,2] + df3[1,3]
```
Создание списка.
```{r}
l4 <- list(z1="6", z2=42, z3="49", z4=126)
```
Сложение 2ого и 4ого элементов списка. Обращение к элементу происходит с помощью оператора [[]].
```{r}
l4[[2]] + l4[[4]]
```
С помощью оператора [] можно получить list slice. Слайсы складывать нельзя.
l4[2] + l4[4]

#Работа с функциями и операторами
Оператор двоеточие создаёт последовательность целых чисел по порядку. Этот оператор — частный случай функции ``seq()``, которую вы использовали раньше. Изучите эту функцию, вызвав команду ``?seq``. Используя полученные знания выведите на экран:
```{r}
?seq
```
Числа от 1 до 10000 с инкрементом 372.
```{r}
seq(1, 10000, by=372)
```
Числа от 1 до 10000 длиной 50.
```{r}
seq(1, 10000, length.out=50)
```

Функция ``rep()`` повторяет переданный вектор указанное число раз. Объясните разницу между ``rep(1:5,times=3)`` и ``rep(1:5, each=3)``.
```{r}
?rep
```
Т.к. длина ветора ``times`` равна 1, весь вектор ``1:5`` повторяется указанное количество раз.
```{r}
rep(1:5,times=3)
```
Параметр ``each`` говорит от том, что каждый из элементов вектора ``1:5`` будет повторен указанное количество раз.
```{r}
rep(1:5, each=3)
```


